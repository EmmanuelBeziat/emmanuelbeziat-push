:root {
	--color-background: #1e192b;
	--color-text: #eeeeee;
	--color-subwhite: #f9fad3;
	--color-green: #c3e88d;
	--color-blue: #4eb0e4;
	--color-violet: #a48aec;
	--color-yellow: #ffcb6b;
	--color-red: #ec4185;
	--color-black: var(--color-background-light);
	--color-separator: var(--color-background-light);
	--color-background-light: #282139;
	--color-background-lighter: #4f4271;
	--color-background-dark: #1b1627;
	--color-background-darker: #171320;
	--font-stack-common: "Source Sans 3", system-ui, "Segoe UI", "Helvetica Neue", Roboto, Arial, sans-serif;
	--font-size-base: 16px;
	--font-size-heading-1: 3.815rem;
	--font-size-heading-2: 3.052rem;
	--font-size-heading-3: 2.441rem;
	--font-size-heading-4: 1.953rem;
	--font-size-heading-5: 1.563rem;
	--font-size-heading-6: 1.25rem;
	--ease-back-out: cubic-bezier(.295, 1.75, .69, .9);
	--gutter-screen: 2rem;

	--container-width: 25rem;

	scroll-behavior: smooth;
	scrollbar-gutter: stable;
}

*,
*::before,
*::after {
	box-sizing: inherit;
}

html {
	font-family: system-ui, Segoe UI, Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji";
	line-height: 1.15;
	-webkit-text-size-adjust: 100%;
	-moz-tab-size: 4;
	tab-size: 4;
	box-sizing: border-box;
}

body {
	margin: 0;
	font: 400 var(--font-size-base)/1.25 var(--font-stack-common);
	background: var(--color-background);
	color: var(--color-text);
}

.button {
	cursor: pointer;
	background: var(--color-background-lighter);
	border: 1px solid var(--color-background-light);
	border-radius: .25rem;
	padding: .5em 1em;
	color: var(--color-subwhite);
	transition: .25s ease-in-out;

	/* &:hover,
	&:focus-visible {

	} */
}

.page {
	display: grid;
	min-height: 100dvh;
	grid-template-columns: 1fr clamp(10rem, 100vw, var(--container-width)) 1fr;
  grid-template-rows: auto 1fr auto;
  grid-template-areas:
    "Header Header Header"
    ". Main ."
    "Footer Footer Footer";

	.header {
		grid-area: Header;
		padding: calc(var(--gutter-screen) / 2) var(--gutter-screen);

		.header-title {
			margin: 0;
			color: var(--color-green);

			span {
				color: var(--color-blue);

				&::before {
					content: ":: ";
					color: var(--color-text);
				}
			}
		}
	}

	.main {
		grid-area: Main;
		padding: var(--gutter-screen);
	}

	.footer {
		grid-area: Footer;
		padding: calc(var(--gutter-screen) / 2) var(--gutter-screen);
		text-align: center;
	}
}

.logs-list {
	display: flex;
	flex-direction: column;
	gap: .5rem;
}

.log {
	border-radius: .25rem;
	padding: calc(var(--gutter-screen) / 2);
	background: var(--log-bg, var(--color-background-light));
	color: var(--log-color, var(--color-text));
	border: 1px solid var(--log-border, var(--color-background-lighter));
	/* box-shadow: 0 0 5px color-mix(in srgb, var(--log-primary), #0000 65%); */

	&[data-state="idle"] {
		--log-primary: var(--color-background-lighter);
		--log-state: var(--color-subwhite);
		--log-border: var(--color-background-lighter);
	}
	&[data-state="success"] {
		--log-primary: var(--color-green);
		--log-state: var(--color-green);
		--log-border: var(--color-green);
	}
	&[data-state="fail"] {
		--log-primary: var(--color-red);
		--log-state: var(--color-red);
		--log-border: var(--color-red);
	}
	&[data-state="build"] {
		--log-primary: var(--color-blue);
		--log-state: var(--color-blue);
		--log-border: var(--color-blue);
	}

	.log-header {
		display: flex;
		align-items: center;
		gap: 1rem;
	}

	.log-title {
		margin-block: 0;
	}

	.log-state {
		background: var(--log-state, var(--color-subwhite));
		color: var(--color-background);
		border-radius: .5rem;
		padding-inline: .45em;
		font-size: 85%;
	}

	.log-content {
		margin-top: .5rem;
	}

	.log-details-modal {
		background: var(--color-background);
		border: 1px solid var(--log-primary, var(--color-background-lighter));
		max-height: calc(100dvh - 2rem);
		border-radius: .25rem;
		padding: 1rem;
		display: none;
		opacity: 0;
		flex-direction: column;
		gap: .5rem;

		transition: .25s ease-in-out;
		transition-behavior: allow-discrete;
		transform: translateY(-1rem);

		&[open] {
			opacity: 1;
			display: flex;
			transform: translateY(0);

			@starting-style {
				opacity: 0;
				transform: translateY(-1rem);
			}

			&::backdrop {
				opacity: .75;
				display: block;
				filter: blur(5px);

				@starting-style {
					opacity: 0;
					filter: blur(0);
				}
			}
		}

		&::backdrop {
			opacity: .75;
			filter: blur(0);
			background: color-mix(in oklab, var(--log-primary), var(--color-background-dark) 95%);
			transition: .25s ease-in-out;
			transition-behavior: allow-discrete;
		}
	}

	.log-details-name {
		margin-block: 0;
		color: var(--color-text);
	}

	.log-details-code {
		overflow-y: scroll;
		padding: 1rem;
		background: var(--color-background-light);
		color: var(--color-subwhite);
		border-radius: .25rem;

		&::-webkit-scrollbar-track {
			background: none;
		}

		&::-webkit-scrollbar {
			width: 11px;
			background: none;
		}

		&::-webkit-scrollbar-thumb {
			border: 4px solid var(--color-background-light);
			border-radius: .5rem;
			transition: .25s ease-in-out;
			background: var(--log-primary);
		}

		pre {
			white-space: break-spaces;
			margin: 0;

			.hljs {
				background: none;
				padding: 0;
			}
		}
	}
}

